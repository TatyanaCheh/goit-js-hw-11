{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImages(inputValue) {\n    const BASE_URL = 'https://pixabay.com';\n    const END_POINT = '/api/';\n    const params = new URLSearchParams({\n      key: '44652974-093c0b9338f58db6242e87a44',\n      q: inputValue,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    });\n    const url = `${BASE_URL}${END_POINT}?${params}`;\n    return fetch(url)\n      .then(res => res.json())\n      .catch(err => {\n        iziToast.error({\n          title: 'Error',\n          message: `${err}`,\n          layout: 2,\n          displayMode: 'once',\n          backgroundColor: '#ef4040',\n          progressBarColor: '#B51B1B',\n          position: 'topRight',\n        });\n      });\n  }\n  \n","// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport {refs} from '../main';\nexport function imagesTemplate(imagesObj) {\n    const markup = imagesObj\n    .map(image => {\n        return `<li class=\"gallery-item\">\n        <a class=\"gallery-link\"\n        href=\"${image.largeImageURL}\">\n        <image class=\"gallery-image\"\n        src=\"${image.webformatURL}\"\n        alt=\"${image.tags}\"/>\n        </a>\n        <div class=\"gallery-card-container\">\n        <p> <strong>Likes:</strong> ${image.likes}</p>\n        <p> <strong>Views:</strong> ${image.views}</p>\n        <p> <strong>Comments:</strong> ${image.comments}</p>\n        <p> <strong>Downloads:</strong> ${image.downloads}</p>\n        </div>\n        </li>`;\n    })\n    .join('');\nrefs.gallery.innerHTML = markup;\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n}).refresh();\n}\n\nexport function showLoader() {\n    refs.loader.classList.remove('hidden');\n}\nexport function hideLoader() {\n    refs.loader.classList.add('hidden');\n}\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { getImages } from \"./js/pixabay-api\";\nimport {showLoader, imagesTemplate, hideLoader} from './js/render-functions';\n\nexport const refs = {\n    form: document.querySelector('.form'),\n    input: document.querySelector('.input'),\n    button: document.querySelector('button'),\n    gallery: document.querySelector('.gallery'),\n    loader: document.querySelector('.loader'),\n};\nrefs.form.addEventListener('submit', e => {\n    e.preventDefault();\n    const inputValue = e.target.elements.text.value.trim();\n    if (inputValue === '') { \n        refs.gallery.innerHTML = ' ';\n        iziToast.warning({\n            title: 'Warning',\n            message: `Please, enter the query`,\n            layout: 2,\n            displayMode: 'once',\n            backgroundColor: '#ef4040',\n            position:'topRight',\n        });\n        return;\n    }\n\n    showLoader();\n    refs.gallery.innerHTML = ' ';\n    getImages(inputValue)\n    .then(data => {\n        if(data.hits.length === 0) {\n            iziToast.error({\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n                layout: 2,\n                displayMode: 'once',\n                backgroundColor: '#ef4040',\n                progressBarColor: '#B51B1B',\n                position:'topRight',\n            });\n            hideLoader();\n            refs.form.reset();\n            return;\n        }\n        hideLoader();\n        refs.form.reset();\n        imagesTemplate(data.hits);\n    })\n    .catch(err => {\n        iziToast.error({\n            title: 'Error',\n            message: `${err}`,\n            layout: 2,\n            displayMode: 'once',\n            backgroundColor: '#ef4040',\n            progressBarColor: '#B51B1B',\n            position:'topRight',   \n        });\n    });\n});\n"],"names":["getImages","inputValue","BASE_URL","END_POINT","params","url","res","err","imagesTemplate","imagesObj","markup","image","refs","SimpleLightbox","showLoader","hideLoader","e","iziToast","data"],"mappings":"6vBAAO,SAASA,EAAUC,EAAY,CAClC,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAClB,CAAK,EACKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAC7C,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAOA,EAAI,MAAM,EACtB,MAAMC,GAAO,CACZ,SAAS,MAAM,CACb,MAAO,QACP,QAAS,GAAGA,CAAG,GACf,OAAQ,EACR,YAAa,OACb,gBAAiB,UACjB,iBAAkB,UAClB,SAAU,UACpB,CAAS,CACT,CAAO,CACP,CClBO,SAASC,EAAeC,EAAW,CACtC,MAAMC,EAASD,EACd,IAAIE,GACM;AAAA;AAAA,gBAECA,EAAM,aAAa;AAAA;AAAA,eAEpBA,EAAM,YAAY;AAAA,eAClBA,EAAM,IAAI;AAAA;AAAA;AAAA,sCAGaA,EAAM,KAAK;AAAA,sCACXA,EAAM,KAAK;AAAA,yCACRA,EAAM,QAAQ;AAAA,0CACbA,EAAM,SAAS;AAAA;AAAA,cAGpD,EACA,KAAK,EAAE,EACZC,EAAK,QAAQ,UAAYF,EAER,IAAIG,EAAe,aAAc,CAC9C,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAC,EAAE,QAAU,CACb,CAEO,SAASC,GAAa,CACzBF,EAAK,OAAO,UAAU,OAAO,QAAQ,CACzC,CACO,SAASG,GAAa,CACzBH,EAAK,OAAO,UAAU,IAAI,QAAQ,CACtC,CCjCO,MAAMA,EAAO,CAChB,KAAM,SAAS,cAAc,OAAO,EACpC,MAAO,SAAS,cAAc,QAAQ,EACtC,OAAQ,SAAS,cAAc,QAAQ,EACvC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC5C,EACAA,EAAK,KAAK,iBAAiB,SAAUI,GAAK,CACtCA,EAAE,eAAc,EAChB,MAAMf,EAAae,EAAE,OAAO,SAAS,KAAK,MAAM,OAChD,GAAIf,IAAe,GAAI,CACnBW,EAAK,QAAQ,UAAY,IACzBK,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,0BACT,OAAQ,EACR,YAAa,OACb,gBAAiB,UACjB,SAAS,UACrB,CAAS,EACD,MACH,CAEDH,IACAF,EAAK,QAAQ,UAAY,IACzBZ,EAAUC,CAAU,EACnB,KAAKiB,GAAQ,CACV,GAAGA,EAAK,KAAK,SAAW,EAAG,CACvBD,EAAS,MAAM,CACX,QAAS,2EACT,OAAQ,EACR,YAAa,OACb,gBAAiB,UACjB,iBAAkB,UAClB,SAAS,UACzB,CAAa,EACDF,IACAH,EAAK,KAAK,QACV,MACH,CACDG,IACAH,EAAK,KAAK,QACVJ,EAAeU,EAAK,IAAI,CAChC,CAAK,EACA,MAAMX,GAAO,CACVU,EAAS,MAAM,CACX,MAAO,QACP,QAAS,GAAGV,CAAG,GACf,OAAQ,EACR,YAAa,OACb,gBAAiB,UACjB,iBAAkB,UAClB,SAAS,UACrB,CAAS,CACT,CAAK,CACL,CAAC"}